(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{MaUl:function(He,me,O){"use strict";O.r(me);var t=O("q1tI"),u=O.n(t),oe=O("dEAq"),W=O.n(oe),x=O("Zxc8"),Re=u.a.memo(ce=>{var K=ce.demos,Oe=K["lifeCycle-demo"].component;return u.a.createElement(u.a.Fragment,null,u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"markdown"},u.a.createElement("h1",{id:"\u751F\u547D\u5468\u671F-\u52A0\u8F7D---\u63D0\u4EA4"},u.a.createElement(oe.AnchorLink,{to:"#\u751F\u547D\u5468\u671F-\u52A0\u8F7D---\u63D0\u4EA4","aria-hidden":"true",tabIndex:-1},u.a.createElement("span",{className:"icon icon-link"})),"\u751F\u547D\u5468\u671F (\u52A0\u8F7D - \u63D0\u4EA4)"),u.a.createElement("p",null,"\u5BF9\u4E8E\u8868\u5355\u6700\u91CD\u8981\u7684\u4E24\u4E2A\u64CD\u4F5C\u65F6\u673A\u662F\u201C\u52A0\u8F7D\u201D\u548C\u201C\u63D0\u4EA4\u201D"),u.a.createElement("h2",{id:"onmount-\u52A0\u8F7D"},u.a.createElement(oe.AnchorLink,{to:"#onmount-\u52A0\u8F7D","aria-hidden":"true",tabIndex:-1},u.a.createElement("span",{className:"icon icon-link"})),"onMount \uFF08\u52A0\u8F7D\uFF09"),u.a.createElement("ol",null,u.a.createElement("li",null,"\u7531\u4E8E React \u7EC4\u4EF6\u7684 ",u.a.createElement("code",null,"componentDidMount"),"(\u6216\u8005 useEffect) \u5F88\u591A\u65F6\u5019\u5E76\u4E0D\u80FD\u51C6\u786E\u76D1\u542C\u5230\u201C\u8868\u5355\u52A0\u8F7D\u5B8C\u6210\u201D\u8FD9\u4E2A\u65F6\u95F4\u70B9\uFF0C\u6240\u4EE5 FormRender \u63D0\u4F9B\u4E86 props ",u.a.createElement("code",null,"onMount"),"\uFF0C\u5728\u8868\u5355\u9996\u6B21\u52A0\u8F7D\u65F6\u6267\u884C\u3002 \u8868\u5355\u9996\u6B21\u52A0\u8F7D\u7684\u5B9A\u4E49\u662F\uFF1A\u5F53\u975E\u7A7A\u7684 schema \u9996\u6B21\u4F20\u5165 FormRender \u5B8C\u6210\u8868\u5355\u6E32\u67D3\u4E4B\u540E\u3002\u5176\u4E2D undefined\u3001null\u3001","{","}"," \u90FD\u89C6\u4E3A\u201C\u7A7A\u201D\u7684 schema\u3002"),u.a.createElement("li",null,u.a.createElement("code",null,"onMount")," \u5E38\u7528\u4E8E\u52A0\u8F7D\u521D\u59CB\u6570\u636E\uFF0C\u6216\u662F\u6839\u636E\u670D\u52A1\u7AEF\u63A5\u53E3\u83B7\u53D6\u6570\u636E\u8FDB\u4E00\u6B65\u8865\u5145 schema\uFF08\u4F8B\u5982\u4E0B\u62C9\u9009\u6846\u7684\u9009\u9879\uFF09"),u.a.createElement("li",null,"\u5982\u679C schema \u6765\u81EA\u670D\u52A1\u7AEF\u63A5\u53E3\uFF0C\u6CE8\u610F\u4E0D\u8981\u4F7F\u7528",u.a.createElement("code",null,"onMount"),"\u6765\u52A0\u8F7D schema\uFF0C\u800C\u4F7F\u7528",u.a.createElement("code",null,"componentDidMount"),"\uFF0C\u56E0\u4E3A",u.a.createElement("code",null,"onMount"),"\u7684\u89E6\u53D1\u673A\u5236\u662F\u5224\u65AD\u975E\u7A7A schema \u5DF2\u7ECF\u4F20\u5165 FormRender"))),u.a.createElement(x.default,K["lifeCycle-demo"].previewerProps,u.a.createElement(Oe,null)),u.a.createElement("div",{className:"markdown"},u.a.createElement("h2",{id:"beforefinish--onfinish-\u63D0\u4EA4"},u.a.createElement(oe.AnchorLink,{to:"#beforefinish--onfinish-\u63D0\u4EA4","aria-hidden":"true",tabIndex:-1},u.a.createElement("span",{className:"icon icon-link"})),"beforeFinish / onFinish \uFF08\u63D0\u4EA4\uFF09"),u.a.createElement("p",null,"\u8868\u5355\u63D0\u4EA4\u7684\u6D41\u7A0B\uFF1A"),u.a.createElement("ol",null,u.a.createElement("li",null,"\u7528\u6237\u8C03\u7528 ",u.a.createElement("code",null,"form.submit")," \u63D0\u4EA4\u5F00\u59CB"),u.a.createElement("li",null,"\u672C\u5730\u6821\u9A8C\u5F00\u59CB\uFF0C\u5982\u679C\u672A\u901A\u8FC7\uFF0C\u5C55\u793A\u6821\u9A8C\u9519\u8BEF"),u.a.createElement("li",null,"\u672C\u5730\u6821\u9A8C\u7ED3\u675F\uFF0C",u.a.createElement("code",null,"beforeFinish")," \u5F00\u59CB\u6267\u884C\uFF0C\u4E00\u822C\u7528\u4E8E\u56DE\u586B\u8FDC\u7AEF\u6821\u9A8C\uFF0C\u5982\u679C\u672A\u901A\u8FC7\u5C55\u793A\u6821\u9A8C\u9519\u8BEF"),u.a.createElement("li",null,"\u6821\u9A8C\u7ED3\u675F\uFF0C",u.a.createElement("code",null,"onFinish")," \u5F00\u59CB\u6267\u884C\uFF0C\u8868\u5355\u6570\u636E\u548C\u6821\u9A8C\u4FE1\u606F\u4EE5\u5165\u53C2\u5F62\u5F0F\u56DE\u4F20\u7ED9\u7528\u6237")),u.a.createElement("p",null,"beforeFinish \u548C onFinish \u7684\u4F7F\u7528\u8BE6\u89C1 ",u.a.createElement(oe.Link,{to:"/form-render/advanced/form-methods"},"\u8868\u5355\u65B9\u6CD5")))))});me.default=ce=>{var K=u.a.useContext(oe.context),Oe=K.demos;return u.a.useEffect(()=>{var _;ce!=null&&(_=ce.location)!==null&&_!==void 0&&_.hash&&oe.AnchorLink.scrollToAnchor(decodeURIComponent(ce.location.hash.slice(1)))},[]),u.a.createElement(Re,{demos:Oe})}},RZMt:function(He,me,O){},Zxc8:function(He,me,O){"use strict";O.r(me);var t=O("q1tI"),u=O.n(t),oe=O("wx14"),W=O("rePB"),x=O("ODXe"),Re=O("U8pU"),ce=O("Ff2n"),K=O("VTBJ"),Oe=O("TSYQ"),_=O.n(Oe),Rt=O("Zm9Q"),Tt=O("5Z9U"),Xe=O("6cGi"),Ge=O("KQm4"),be=O("wgJM"),Ze=O("t23M");function Ye(e){var r=Object(t.useRef)(),n=Object(t.useRef)(!1);function c(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];n.current||(be.a.cancel(r.current),r.current=Object(be.a)(function(){e.apply(void 0,o)}))}return Object(t.useEffect)(function(){return function(){n.current=!0,be.a.cancel(r.current)}},[]),c}function wt(e){var r=Object(t.useRef)([]),n=Object(t.useState)({}),c=Object(x.a)(n,2),i=c[1],o=Object(t.useRef)(typeof e=="function"?e():e),l=Ye(function(){var a=o.current;r.current.forEach(function(b){a=b(a)}),r.current=[],o.current=a,i({})});function s(a){r.current.push(a),l()}return[o.current,s]}var ae=O("4IlW");function Dt(e,r){var n,c=e.prefixCls,i=e.id,o=e.active,l=e.tab,s=l.key,a=l.tab,b=l.disabled,E=l.closeIcon,m=e.closable,d=e.renderWrapper,y=e.removeAriaLabel,C=e.editable,g=e.onClick,L=e.onRemove,V=e.onFocus,$=e.style,R="".concat(c,"-tab");t.useEffect(function(){return L},[]);var j=C&&m!==!1&&!b;function U(T){b||g(T)}function z(T){T.preventDefault(),T.stopPropagation(),C.onEdit("remove",{key:s,event:T})}var B=t.createElement("div",{key:s,ref:r,className:_()(R,(n={},Object(W.a)(n,"".concat(R,"-with-remove"),j),Object(W.a)(n,"".concat(R,"-active"),o),Object(W.a)(n,"".concat(R,"-disabled"),b),n)),style:$,onClick:U},t.createElement("div",{role:"tab","aria-selected":o,id:i&&"".concat(i,"-tab-").concat(s),className:"".concat(R,"-btn"),"aria-controls":i&&"".concat(i,"-panel-").concat(s),"aria-disabled":b,tabIndex:b?null:0,onClick:function(f){f.stopPropagation(),U(f)},onKeyDown:function(f){[ae.a.SPACE,ae.a.ENTER].includes(f.which)&&(f.preventDefault(),U(f))},onFocus:V},a),j&&t.createElement("button",{type:"button","aria-label":y||"remove",tabIndex:0,className:"".concat(R,"-remove"),onClick:function(f){f.stopPropagation(),z(f)}},E||C.removeIcon||"\xD7"));return d?d(B):B}var Nt=t.forwardRef(Dt),_e={width:0,height:0,left:0,top:0};function Pt(e,r,n){return Object(t.useMemo)(function(){for(var c,i=new Map,o=r.get((c=e[0])===null||c===void 0?void 0:c.key)||_e,l=o.left+o.width,s=0;s<e.length;s+=1){var a=e[s].key,b=r.get(a);if(!b){var E;b=r.get((E=e[s-1])===null||E===void 0?void 0:E.key)||_e}var m=i.get(a)||Object(K.a)({},b);m.right=l-m.left-m.width,i.set(a,m)}return i},[e.map(function(c){return c.key}).join("_"),r,n])}var ze={width:0,height:0,left:0,top:0,right:0};function Mt(e,r,n,c,i){var o=i.tabs,l=i.tabPosition,s=i.rtl,a,b,E;["top","bottom"].includes(l)?(a="width",b=s?"right":"left",E=Math.abs(r.left)):(a="height",b="top",E=-r.top);var m=r[a],d=n[a],y=c[a],C=m;return d+y>m&&d<m&&(C=m-y),Object(t.useMemo)(function(){if(!o.length)return[0,0];for(var g=o.length,L=g,V=0;V<g;V+=1){var $=e.get(o[V].key)||ze;if($[b]+$[a]>E+C){L=V-1;break}}for(var R=0,j=g-1;j>=0;j-=1){var U=e.get(o[j].key)||ze;if(U[b]<E){R=j+1;break}}return[R,L]},[e,E,C,l,o.map(function(g){return g.key}).join("_"),s])}var Je=O("1j5w"),kt=O("uciX"),he={adjustX:1,adjustY:1},pe=[0,0],It={topLeft:{points:["bl","tl"],overflow:he,offset:[0,-4],targetOffset:pe},topCenter:{points:["bc","tc"],overflow:he,offset:[0,-4],targetOffset:pe},topRight:{points:["br","tr"],overflow:he,offset:[0,-4],targetOffset:pe},bottomLeft:{points:["tl","bl"],overflow:he,offset:[0,4],targetOffset:pe},bottomCenter:{points:["tc","bc"],overflow:he,offset:[0,4],targetOffset:pe},bottomRight:{points:["tr","br"],overflow:he,offset:[0,4],targetOffset:pe}},Bt=It,Lt=ae.a.ESC,Wt=ae.a.TAB;function Kt(e){var r=e.visible,n=e.setTriggerVisible,c=e.triggerRef,i=e.menuRef,o=e.onVisibleChange,l=e.autoFocus,s=t.useRef(!1),a=function(){if(r&&c.current){var d,y,C,g;(d=c.current)===null||d===void 0||(y=d.triggerRef)===null||y===void 0||(C=y.current)===null||C===void 0||(g=C.focus)===null||g===void 0||g.call(C),n(!1),typeof o=="function"&&o(!1)}},b=function(){var d,y;(d=i.current)===null||d===void 0||(y=d.focus)===null||y===void 0||y.call(d),s.current=!0},E=function(d){var y;switch(d.keyCode){case Lt:a();break;case Wt:!s.current&&((y=i.current)===null||y===void 0?void 0:y.focus)?(d.preventDefault(),b()):a();break}};t.useEffect(function(){return r?(window.addEventListener("keydown",E),l&&Object(be.a)(b,3),function(){window.removeEventListener("keydown",E),s.current=!1}):function(){s.current=!1}},[r])}var Qe=O("c+Xe"),Vt=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function $t(e,r){var n=e.arrow,c=n===void 0?!1:n,i=e.prefixCls,o=i===void 0?"rc-dropdown":i,l=e.transitionName,s=e.animation,a=e.align,b=e.placement,E=b===void 0?"bottomLeft":b,m=e.placements,d=m===void 0?Bt:m,y=e.getPopupContainer,C=e.showAction,g=e.hideAction,L=e.overlayClassName,V=e.overlayStyle,$=e.visible,R=e.trigger,j=R===void 0?["hover"]:R,U=e.autoFocus,z=Object(ce.a)(e,Vt),B=t.useState(),T=Object(x.a)(B,2),f=T[0],A=T[1],N="visible"in e?$:f,v=t.useRef(null);t.useImperativeHandle(r,function(){return v.current});var S=t.useRef(null),k="".concat(o,"-menu");Kt({visible:N,setTriggerVisible:A,triggerRef:v,menuRef:S,onVisibleChange:e.onVisibleChange,autoFocus:U});var I=function(){var p=e.overlay,w;return typeof p=="function"?w=p():w=p,w},te=function(p){var w=e.onOverlayClick,ee=I().props;A(!1),w&&w(p),ee.onClick&&ee.onClick(p)},J=function(p){var w=e.onVisibleChange;A(p),typeof w=="function"&&w(p)},ie=function(){var p,w=I(),ee=Object(Qe.a)(S,w.ref),ue=(p={prefixCls:k},Object(W.a)(p,"data-dropdown-inject",!0),Object(W.a)(p,"onClick",te),Object(W.a)(p,"ref",Object(Qe.c)(w)?ee:void 0),p);return typeof w.type=="string"&&(delete ue.prefixCls,delete ue["data-dropdown-inject"]),t.createElement(t.Fragment,null,c&&t.createElement("div",{className:"".concat(o,"-arrow")}),t.cloneElement(w,ue))},q=function(){var p=e.overlay;return typeof p=="function"?ie:ie()},h=function(){var p=e.minOverlayWidthMatchTrigger,w=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?p:!w},M=function(){var p=e.openClassName;return p!==void 0?p:"".concat(o,"-open")},Z=function(){var p=e.children,w=p.props?p.props:{},ee=_()(w.className,M());return N&&p?t.cloneElement(p,{className:ee}):p},P=g;return!P&&j.indexOf("contextMenu")!==-1&&(P=["click"]),t.createElement(kt.a,Object(K.a)(Object(K.a)({builtinPlacements:d},z),{},{prefixCls:o,ref:v,popupClassName:_()(L,Object(W.a)({},"".concat(o,"-show-arrow"),c)),popupStyle:V,action:j,showAction:C,hideAction:P||[],popupPlacement:E,popupAlign:a,popupTransitionName:l,popupAnimation:s,popupVisible:N,stretch:h()?"minWidth":"",popup:q(),onPopupVisibleChange:J,getPopupContainer:y}),Z())}var Ut=t.forwardRef($t),Ht=Ut;function Xt(e,r){var n=e.prefixCls,c=e.editable,i=e.locale,o=e.style;return!c||c.showAdd===!1?null:t.createElement("button",{ref:r,type:"button",className:"".concat(n,"-nav-add"),style:o,"aria-label":(i==null?void 0:i.addAriaLabel)||"Add tab",onClick:function(s){c.onEdit("add",{event:s})}},c.addIcon||"+")}var qe=t.forwardRef(Xt);function Gt(e,r){var n=e.prefixCls,c=e.id,i=e.tabs,o=e.locale,l=e.mobile,s=e.moreIcon,a=s===void 0?"More":s,b=e.moreTransitionName,E=e.style,m=e.className,d=e.editable,y=e.tabBarGutter,C=e.rtl,g=e.removeAriaLabel,L=e.onTabClick,V=Object(t.useState)(!1),$=Object(x.a)(V,2),R=$[0],j=$[1],U=Object(t.useState)(null),z=Object(x.a)(U,2),B=z[0],T=z[1],f="".concat(c,"-more-popup"),A="".concat(n,"-dropdown"),N=B!==null?"".concat(f,"-").concat(B):null,v=o==null?void 0:o.dropdownAriaLabel;function S(h,M){h.preventDefault(),h.stopPropagation(),d.onEdit("remove",{key:M,event:h})}var k=t.createElement(Je.default,{onClick:function(M){var Z=M.key,P=M.domEvent;L(Z,P),j(!1)},id:f,tabIndex:-1,role:"listbox","aria-activedescendant":N,selectedKeys:[B],"aria-label":v!==void 0?v:"expanded dropdown"},i.map(function(h){var M=d&&h.closable!==!1&&!h.disabled;return t.createElement(Je.MenuItem,{key:h.key,id:"".concat(f,"-").concat(h.key),role:"option","aria-controls":c&&"".concat(c,"-panel-").concat(h.key),disabled:h.disabled},t.createElement("span",null,h.tab),M&&t.createElement("button",{type:"button","aria-label":g||"remove",tabIndex:0,className:"".concat(A,"-menu-item-remove"),onClick:function(P){P.stopPropagation(),S(P,h.key)}},h.closeIcon||d.removeIcon||"\xD7"))}));function I(h){for(var M=i.filter(function(w){return!w.disabled}),Z=M.findIndex(function(w){return w.key===B})||0,P=M.length,Y=0;Y<P;Y+=1){Z=(Z+h+P)%P;var p=M[Z];if(!p.disabled){T(p.key);return}}}function te(h){var M=h.which;if(!R){[ae.a.DOWN,ae.a.SPACE,ae.a.ENTER].includes(M)&&(j(!0),h.preventDefault());return}switch(M){case ae.a.UP:I(-1),h.preventDefault();break;case ae.a.DOWN:I(1),h.preventDefault();break;case ae.a.ESC:j(!1);break;case ae.a.SPACE:case ae.a.ENTER:B!==null&&L(B,h);break}}Object(t.useEffect)(function(){var h=document.getElementById(N);h&&h.scrollIntoView&&h.scrollIntoView(!1)},[B]),Object(t.useEffect)(function(){R||T(null)},[R]);var J=Object(W.a)({},C?"marginRight":"marginLeft",y);i.length||(J.visibility="hidden",J.order=1);var ie=_()(Object(W.a)({},"".concat(A,"-rtl"),C)),q=l?null:t.createElement(Ht,{prefixCls:A,overlay:k,trigger:["hover"],visible:R,transitionName:b,onVisibleChange:j,overlayClassName:ie,mouseEnterDelay:.1,mouseLeaveDelay:.1},t.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:J,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":f,id:"".concat(c,"-more"),"aria-expanded":R,onKeyDown:te},a));return t.createElement("div",{className:_()("".concat(n,"-nav-operations"),m),style:E,ref:r},q,t.createElement(qe,{prefixCls:n,locale:o,editable:d}))}var Zt=t.memo(t.forwardRef(Gt),function(e,r){return r.tabMoving}),Me=Object(t.createContext)(null),Yt=.1,et=.01,Te=20,tt=Math.pow(.995,Te);function _t(e,r){var n=Object(t.useState)(),c=Object(x.a)(n,2),i=c[0],o=c[1],l=Object(t.useState)(0),s=Object(x.a)(l,2),a=s[0],b=s[1],E=Object(t.useState)(0),m=Object(x.a)(E,2),d=m[0],y=m[1],C=Object(t.useState)(),g=Object(x.a)(C,2),L=g[0],V=g[1],$=Object(t.useRef)();function R(f){var A=f.touches[0],N=A.screenX,v=A.screenY;o({x:N,y:v}),window.clearInterval($.current)}function j(f){if(!!i){f.preventDefault();var A=f.touches[0],N=A.screenX,v=A.screenY;o({x:N,y:v});var S=N-i.x,k=v-i.y;r(S,k);var I=Date.now();b(I),y(I-a),V({x:S,y:k})}}function U(){if(!!i&&(o(null),V(null),L)){var f=L.x/d,A=L.y/d,N=Math.abs(f),v=Math.abs(A);if(Math.max(N,v)<Yt)return;var S=f,k=A;$.current=window.setInterval(function(){if(Math.abs(S)<et&&Math.abs(k)<et){window.clearInterval($.current);return}S*=tt,k*=tt,r(S*Te,k*Te)},Te)}}var z=Object(t.useRef)();function B(f){var A=f.deltaX,N=f.deltaY,v=0,S=Math.abs(A),k=Math.abs(N);S===k?v=z.current==="x"?A:N:S>k?(v=A,z.current="x"):(v=N,z.current="y"),r(-v,-v)&&f.preventDefault()}var T=Object(t.useRef)(null);T.current={onTouchStart:R,onTouchMove:j,onTouchEnd:U,onWheel:B},t.useEffect(function(){function f(S){T.current.onTouchStart(S)}function A(S){T.current.onTouchMove(S)}function N(S){T.current.onTouchEnd(S)}function v(S){T.current.onWheel(S)}return document.addEventListener("touchmove",A,{passive:!1}),document.addEventListener("touchend",N,{passive:!1}),e.current.addEventListener("touchstart",f,{passive:!1}),e.current.addEventListener("wheel",v),function(){document.removeEventListener("touchmove",A),document.removeEventListener("touchend",N)}},[])}function zt(){var e=Object(t.useRef)(new Map);function r(c){return e.current.has(c)||e.current.set(c,t.createRef()),e.current.get(c)}function n(c){e.current.delete(c)}return[r,n]}function at(e,r){var n=t.useRef(e),c=t.useState({}),i=Object(x.a)(c,2),o=i[1];function l(s){var a=typeof s=="function"?s(n.current):s;a!==n.current&&r(a,n.current),n.current=a,o({})}return[n.current,l]}var nt=function(r){var n=r.position,c=r.prefixCls,i=r.extra;if(!i)return null;var o,l={};return i&&Object(Re.a)(i)==="object"&&!t.isValidElement(i)?l=i:l.right=i,n==="right"&&(o=l.right),n==="left"&&(o=l.left),o?t.createElement("div",{className:"".concat(c,"-extra-content")},o):null};function Jt(e,r){var n,c=t.useContext(Me),i=c.prefixCls,o=c.tabs,l=e.className,s=e.style,a=e.id,b=e.animated,E=e.activeKey,m=e.rtl,d=e.extra,y=e.editable,C=e.locale,g=e.tabPosition,L=e.tabBarGutter,V=e.children,$=e.onTabClick,R=e.onTabScroll,j=Object(t.useRef)(),U=Object(t.useRef)(),z=Object(t.useRef)(),B=Object(t.useRef)(),T=zt(),f=Object(x.a)(T,2),A=f[0],N=f[1],v=g==="top"||g==="bottom",S=at(0,function(D,F){v&&R&&R({direction:D>F?"left":"right"})}),k=Object(x.a)(S,2),I=k[0],te=k[1],J=at(0,function(D,F){!v&&R&&R({direction:D>F?"top":"bottom"})}),ie=Object(x.a)(J,2),q=ie[0],h=ie[1],M=Object(t.useState)(0),Z=Object(x.a)(M,2),P=Z[0],Y=Z[1],p=Object(t.useState)(0),w=Object(x.a)(p,2),ee=w[0],ue=w[1],Ee=Object(t.useState)(null),Ce=Object(x.a)(Ee,2),Q=Ce[0],H=Ce[1],we=Object(t.useState)(null),ye=Object(x.a)(we,2),le=ye[0],X=ye[1],fe=Object(t.useState)(0),ge=Object(x.a)(fe,2),sa=ge[0],da=ge[1],fa=Object(t.useState)(0),lt=Object(x.a)(fa,2),va=lt[0],ma=lt[1],ba=wt(new Map),st=Object(x.a)(ba,2),ha=st[0],pa=st[1],De=Pt(o,ha,P),Ea="".concat(i,"-nav-operations-hidden"),Se=0,je=0;v?m?(Se=0,je=Math.max(0,P-Q)):(Se=Math.min(0,Q-P),je=0):(Se=Math.min(0,le-ee),je=0);function Be(D){return D<Se?Se:D>je?je:D}var dt=Object(t.useRef)(),Ca=Object(t.useState)(),ft=Object(x.a)(Ca,2),Ne=ft[0],vt=ft[1];function Le(){vt(Date.now())}function We(){window.clearTimeout(dt.current)}_t(j,function(D,F){function G(re,ve){re(function(Fe){var Ue=Be(Fe+ve);return Ue})}if(v){if(Q>=P)return!1;G(te,D)}else{if(le>=ee)return!1;G(h,F)}return We(),Le(),!0}),Object(t.useEffect)(function(){return We(),Ne&&(dt.current=window.setTimeout(function(){vt(0)},100)),We},[Ne]);function mt(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E,F=De.get(D)||{width:0,height:0,left:0,right:0,top:0};if(v){var G=I;m?F.right<I?G=F.right:F.right+F.width>I+Q&&(G=F.right+F.width-Q):F.left<-I?G=-F.left:F.left+F.width>-I+Q&&(G=-(F.left+F.width-Q)),h(0),te(Be(G))}else{var re=q;F.top<-q?re=-F.top:F.top+F.height>-q+le&&(re=-(F.top+F.height-le)),te(0),h(Be(re))}}var ya=Mt(De,{width:Q,height:le,left:I,top:q},{width:P,height:ee},{width:sa,height:va},Object(K.a)(Object(K.a)({},e),{},{tabs:o})),bt=Object(x.a)(ya,2),ga=bt[0],Oa=bt[1],Pe={};g==="top"||g==="bottom"?Pe[m?"marginRight":"marginLeft"]=L:Pe.marginTop=L;var ht=o.map(function(D,F){var G=D.key;return t.createElement(Nt,{id:a,prefixCls:i,key:G,tab:D,style:F===0?void 0:Pe,closable:D.closable,editable:y,active:G===E,renderWrapper:V,removeAriaLabel:C==null?void 0:C.removeAriaLabel,ref:A(G),onClick:function(ve){$(G,ve)},onRemove:function(){N(G)},onFocus:function(){mt(G),Le(),!!j.current&&(m||(j.current.scrollLeft=0),j.current.scrollTop=0)}})}),Ke=Ye(function(){var D,F,G,re,ve,Fe,Ue=((D=j.current)===null||D===void 0?void 0:D.offsetWidth)||0,Ra=((F=j.current)===null||F===void 0?void 0:F.offsetHeight)||0,jt=((G=B.current)===null||G===void 0?void 0:G.offsetWidth)||0,At=((re=B.current)===null||re===void 0?void 0:re.offsetHeight)||0;H(Ue),X(Ra),da(jt),ma(At);var Ta=(((ve=U.current)===null||ve===void 0?void 0:ve.offsetWidth)||0)-jt,wa=(((Fe=U.current)===null||Fe===void 0?void 0:Fe.offsetHeight)||0)-At;Y(Ta),ue(wa),pa(function(){var Ft=new Map;return o.forEach(function(Da){var xt=Da.key,xe=A(xt).current;xe&&Ft.set(xt,{width:xe.offsetWidth,height:xe.offsetHeight,left:xe.offsetLeft,top:xe.offsetTop})}),Ft})}),Sa=o.slice(0,ga),ja=o.slice(Oa+1),pt=[].concat(Object(Ge.a)(Sa),Object(Ge.a)(ja)),Aa=Object(t.useState)(),Et=Object(x.a)(Aa,2),Fa=Et[0],xa=Et[1],se=De.get(E),Ct=Object(t.useRef)();function yt(){be.a.cancel(Ct.current)}Object(t.useEffect)(function(){var D={};return se&&(v?(m?D.right=se.right:D.left=se.left,D.width=se.width):(D.top=se.top,D.height=se.height)),yt(),Ct.current=Object(be.a)(function(){xa(D)}),yt},[se,v,m]),Object(t.useEffect)(function(){mt()},[E,se,De,v]),Object(t.useEffect)(function(){Ke()},[m,L,E,o.map(function(D){return D.key}).join("_")]);var gt=!!pt.length,Ae="".concat(i,"-nav-wrap"),Ve,$e,Ot,St;return v?m?($e=I>0,Ve=I+Q<P):(Ve=I<0,$e=-I+Q<P):(Ot=q<0,St=-q+le<ee),t.createElement("div",{ref:r,role:"tablist",className:_()("".concat(i,"-nav"),l),style:s,onKeyDown:function(){Le()}},t.createElement(nt,{position:"left",extra:d,prefixCls:i}),t.createElement(Ze.default,{onResize:Ke},t.createElement("div",{className:_()(Ae,(n={},Object(W.a)(n,"".concat(Ae,"-ping-left"),Ve),Object(W.a)(n,"".concat(Ae,"-ping-right"),$e),Object(W.a)(n,"".concat(Ae,"-ping-top"),Ot),Object(W.a)(n,"".concat(Ae,"-ping-bottom"),St),n)),ref:j},t.createElement(Ze.default,{onResize:Ke},t.createElement("div",{ref:U,className:"".concat(i,"-nav-list"),style:{transform:"translate(".concat(I,"px, ").concat(q,"px)"),transition:Ne?"none":void 0}},ht,t.createElement(qe,{ref:B,prefixCls:i,locale:C,editable:y,style:Object(K.a)(Object(K.a)({},ht.length===0?void 0:Pe),{},{visibility:gt?"hidden":null})}),t.createElement("div",{className:_()("".concat(i,"-ink-bar"),Object(W.a)({},"".concat(i,"-ink-bar-animated"),b.inkBar)),style:Fa}))))),t.createElement(Zt,Object(oe.a)({},e,{removeAriaLabel:C==null?void 0:C.removeAriaLabel,ref:z,prefixCls:i,tabs:pt,className:!gt&&Ea,tabMoving:!!Ne})),t.createElement(nt,{position:"right",extra:d,prefixCls:i}))}var rt=t.forwardRef(Jt);function Qt(e){var r=e.id,n=e.activeKey,c=e.animated,i=e.tabPosition,o=e.rtl,l=e.destroyInactiveTabPane,s=t.useContext(Me),a=s.prefixCls,b=s.tabs,E=c.tabPane,m=b.findIndex(function(d){return d.key===n});return t.createElement("div",{className:_()("".concat(a,"-content-holder"))},t.createElement("div",{className:_()("".concat(a,"-content"),"".concat(a,"-content-").concat(i),Object(W.a)({},"".concat(a,"-content-animated"),E)),style:m&&E?Object(W.a)({},o?"marginRight":"marginLeft","-".concat(m,"00%")):null},b.map(function(d){return t.cloneElement(d.node,{key:d.key,prefixCls:a,tabKey:d.key,id:r,animated:E,active:d.key===n,destroyInactiveTabPane:l})})))}function ot(e){var r=e.prefixCls,n=e.forceRender,c=e.className,i=e.style,o=e.id,l=e.active,s=e.animated,a=e.destroyInactiveTabPane,b=e.tabKey,E=e.children,m=t.useState(n),d=Object(x.a)(m,2),y=d[0],C=d[1];t.useEffect(function(){l?C(!0):a&&C(!1)},[l,a]);var g={};return l||(s?(g.visibility="hidden",g.height=0,g.overflowY="hidden"):g.display="none"),t.createElement("div",{id:o&&"".concat(o,"-panel-").concat(b),role:"tabpanel",tabIndex:l?0:-1,"aria-labelledby":o&&"".concat(o,"-tab-").concat(b),"aria-hidden":!l,style:Object(K.a)(Object(K.a)({},g),i),className:_()("".concat(r,"-tabpane"),l&&"".concat(r,"-tabpane-active"),c)},(l||y||n)&&E)}var qt=["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll"],it=0;function ea(e){return Object(Rt.a)(e).map(function(r){if(t.isValidElement(r)){var n=r.key!==void 0?String(r.key):void 0;return Object(K.a)(Object(K.a)({key:n},r.props),{},{node:r})}return null}).filter(function(r){return r})}function ta(e,r){var n,c=e.id,i=e.prefixCls,o=i===void 0?"rc-tabs":i,l=e.className,s=e.children,a=e.direction,b=e.activeKey,E=e.defaultActiveKey,m=e.editable,d=e.animated,y=d===void 0?{inkBar:!0,tabPane:!1}:d,C=e.tabPosition,g=C===void 0?"top":C,L=e.tabBarGutter,V=e.tabBarStyle,$=e.tabBarExtraContent,R=e.locale,j=e.moreIcon,U=e.moreTransitionName,z=e.destroyInactiveTabPane,B=e.renderTabBar,T=e.onChange,f=e.onTabClick,A=e.onTabScroll,N=Object(ce.a)(e,qt),v=ea(s),S=a==="rtl",k;y===!1?k={inkBar:!1,tabPane:!1}:y===!0?k={inkBar:!0,tabPane:!0}:k=Object(K.a)({inkBar:!0,tabPane:!1},Object(Re.a)(y)==="object"?y:{});var I=Object(t.useState)(!1),te=Object(x.a)(I,2),J=te[0],ie=te[1];Object(t.useEffect)(function(){ie(Object(Tt.a)())},[]);var q=Object(Xe.a)(function(){var X;return(X=v[0])===null||X===void 0?void 0:X.key},{value:b,defaultValue:E}),h=Object(x.a)(q,2),M=h[0],Z=h[1],P=Object(t.useState)(function(){return v.findIndex(function(X){return X.key===M})}),Y=Object(x.a)(P,2),p=Y[0],w=Y[1];Object(t.useEffect)(function(){var X=v.findIndex(function(ge){return ge.key===M});if(X===-1){var fe;X=Math.max(0,Math.min(p,v.length-1)),Z((fe=v[X])===null||fe===void 0?void 0:fe.key)}w(X)},[v.map(function(X){return X.key}).join("_"),M,p]);var ee=Object(Xe.a)(null,{value:c}),ue=Object(x.a)(ee,2),Ee=ue[0],Ce=ue[1],Q=g;J&&!["left","right"].includes(g)&&(Q="top"),Object(t.useEffect)(function(){c||(Ce("rc-tabs-".concat(it)),it+=1)},[]);function H(X,fe){f==null||f(X,fe);var ge=X!==M;Z(X),ge&&(T==null||T(X))}var we={id:Ee,activeKey:M,animated:k,tabPosition:Q,rtl:S,mobile:J},ye,le=Object(K.a)(Object(K.a)({},we),{},{editable:m,locale:R,moreIcon:j,moreTransitionName:U,tabBarGutter:L,onTabClick:H,onTabScroll:A,extra:$,style:V,panes:s});return B?ye=B(le,rt):ye=t.createElement(rt,le),t.createElement(Me.Provider,{value:{tabs:v,prefixCls:o}},t.createElement("div",Object(oe.a)({ref:r,id:c,className:_()(o,"".concat(o,"-").concat(Q),(n={},Object(W.a)(n,"".concat(o,"-mobile"),J),Object(W.a)(n,"".concat(o,"-editable"),m),Object(W.a)(n,"".concat(o,"-rtl"),S),n),l)},N),ye,t.createElement(Qt,Object(oe.a)({destroyInactiveTabPane:z},we,{animated:k}))))}var ut=t.forwardRef(ta);ut.TabPane=ot;var aa=ut,na=aa,ke=O("MZF8"),ne=O("dEAq"),ra=O("H1Ra"),Na=O("RZMt");function de(e,r){return ca(e)||ua(e,r)||ia(e,r)||oa()}function oa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ia(e,r){if(!!e){if(typeof e=="string")return ct(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ct(e,r)}}function ct(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,c=new Array(r);n<r;n++)c[n]=e[n];return c}function ua(e,r){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var c=[],i=!0,o=!1,l,s;try{for(n=n.call(e);!(i=(l=n.next()).done)&&(c.push(l.value),!(r&&c.length===r));i=!0);}catch(a){o=!0,s=a}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}return c}}function ca(e){if(Array.isArray(e))return e}function Ie(e,r){var n,c=(n=e.match(/\.(\w+)$/))===null||n===void 0?void 0:n[1];return c||(c=r.tsx?"tsx":"jsx"),c}var la=function(r){var n,c,i,o=Object(t.useRef)(),l=Object(t.useContext)(ne.context),s=l.locale,a=Object(ne.useLocaleProps)(s,r),b=Object(ne.useDemoUrl)(a.identifier),E=a.demoUrl||b,m=(ke.a===null||ke.a===void 0?void 0:ke.a.location.hash)==="#".concat(a.identifier),d=Object.keys(a.sources).length===1,y=Object(ne.useCodeSandbox)(((n=a.hideActions)===null||n===void 0?void 0:n.includes("CSB"))?null:a),C=Object(ne.useRiddle)(((c=a.hideActions)===null||c===void 0?void 0:c.includes("RIDDLE"))?null:a),g=Object(ne.useMotions)(a.motions||[],o.current),L=de(g,2),V=L[0],$=L[1],R=Object(ne.useCopy)(),j=de(R,2),U=j[0],z=j[1],B=Object(t.useState)(function(){return a.sources._?"_":Object.keys(a.sources)[0]}),T=de(B,2),f=T[0],A=T[1],N=Object(t.useState)(Ie(f,a.sources[f])),v=de(N,2),S=v[0],k=v[1],I=Object(t.useState)(Boolean(a.defaultShowCode)),te=de(I,2),J=te[0],ie=te[1],q=Object(t.useState)(Math.random()),h=de(q,2),M=h[0],Z=h[1],P=a.sources[f][S]||a.sources[f].content,Y=Object(ne.useTSPlaygroundUrl)(s,P),p=Object(t.useRef)(),w=Object(ne.usePrefersColor)(),ee=de(w,1),ue=ee[0],Ee=a.actionBarRender,Ce=Ee===void 0?function(H){return H}:Ee;Object(t.useEffect)(function(){Z(Math.random())},[ue]);function Q(H){A(H),k(Ie(H,a.sources[H]))}return u.a.createElement("div",{style:a.style,className:[a.className,"__dumi-default-previewer",m?"__dumi-default-previewer-target":""].filter(Boolean).join(" "),id:a.identifier,"data-debug":a.debug||void 0,"data-iframe":a.iframe||void 0},a.iframe&&u.a.createElement("div",{className:"__dumi-default-previewer-browser-nav"}),u.a.createElement("div",{ref:o,className:"__dumi-default-previewer-demo",style:{transform:a.transform?"translate(0, 0)":void 0,padding:a.compact||a.iframe&&a.compact!==!1?"0":void 0,background:a.background}},a.iframe?u.a.createElement("iframe",{title:"dumi-previewer",style:{height:String(a.iframe).replace(/(\d)$/,"$1px")},key:M,src:E,ref:p}):a.children),u.a.createElement("div",{className:"__dumi-default-previewer-desc","data-title":a.title},a.title&&u.a.createElement(ne.AnchorLink,{to:"#".concat(a.identifier)},a.title),a.description&&u.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.description}})),u.a.createElement("div",{className:"__dumi-default-previewer-actions"},Ce(u.a.createElement(u.a.Fragment,null,y&&u.a.createElement("button",{title:"Open demo on CodeSandbox.io",className:"__dumi-default-icon",role:"codesandbox",onClick:y}),C&&u.a.createElement("button",{title:"Open demo on Riddle",className:"__dumi-default-icon",role:"riddle",onClick:C}),a.motions&&u.a.createElement("button",{title:"Execute motions",className:"__dumi-default-icon",role:"motions",disabled:$,onClick:function(){return V()}}),a.iframe&&u.a.createElement("button",{title:"Reload demo iframe page",className:"__dumi-default-icon",role:"refresh",onClick:function(){return Z(Math.random())}}),!((i=a.hideActions)===null||i===void 0?void 0:i.includes("EXTERNAL"))&&u.a.createElement(ne.Link,{target:"_blank",to:E},u.a.createElement("button",{title:"Open demo in new tab",className:"__dumi-default-icon",role:"open-demo",type:"button"})),u.a.createElement("span",null),u.a.createElement("button",{title:"Copy source code",className:"__dumi-default-icon",role:"copy","data-status":z,onClick:function(){return U(P)}}),S==="tsx"&&J&&u.a.createElement(ne.Link,{target:"_blank",to:Y},u.a.createElement("button",{title:"Get JSX via TypeScript Playground",className:"__dumi-default-icon",role:"change-tsx",type:"button"})),u.a.createElement("button",{title:"Toggle source code panel",className:"__dumi-default-icon".concat(J?" __dumi-default-btn-expand":""),role:"source",type:"button",onClick:function(){return ie(!J)}})))),J&&u.a.createElement("div",{className:"__dumi-default-previewer-source-wrapper"},!d&&u.a.createElement(na,{className:"__dumi-default-previewer-source-tab",prefixCls:"__dumi-default-tabs",moreIcon:"\xB7\xB7\xB7",defaultActiveKey:f,onChange:Q},Object.keys(a.sources).map(function(H){return u.a.createElement(ot,{tab:H==="_"?"index.".concat(Ie(H,a.sources[H])):H,key:H})})),u.a.createElement("div",{className:"__dumi-default-previewer-source"},u.a.createElement(ra.a,{code:P,lang:S,showCopy:!1}))))},Pa=me.default=la}}]);
